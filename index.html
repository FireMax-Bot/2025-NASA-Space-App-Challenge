<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BloomWatch - NASA Space Apps Challenge 2025 | Global Flowering Phenology</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <!-- <i class="fas fa-seedling"></i> -->
                    <div class="logo-text">
                        <h1>BloomWatch</h1>
                        <span class="subtitle">NASA Space Apps Challenge 2025</span>
                    </div>
                </div>
                <div class="header-info">
                    <div class="data-sources">
                        <span class="data-source nasa">NASA</span>
                        <span class="data-source esa">ESA</span>
                        <span class="data-source csa">CSA</span>
                        <span class="data-source globe">GLOBE</span>
                    </div>
                    <div class="challenge-info">
                        <span class="challenge-badge">Space Apps 2025</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Enhanced Sidebar -->
            <aside class="sidebar">
                <div class="control-panel">
                    <!-- Data Source Selection -->
                    <div class="control-section">
                        <h2><i class="fas fa-satellite-dish"></i> Data Sources</h2>
                        <div class="control-group">
                            <label for="dataSource">Primary Data Source:</label>
                            <select id="dataSource" class="control-select">
                                <option value="modis">MODIS Vegetation Indices</option>
                                <option value="landsat">Landsat 8/9 Optical</option>
                                <option value="sentinel">Sentinel-2 Multispectral</option>
                                <option value="radarsat">RADARSAT Radar</option>
                                <option value="hyperspectral">Airborne Hyperspectral</option>
                                <option value="globe">GLOBE Observer</option>
                            </select>
                        </div>
                    </div>

                    <!-- Bloom Detection Controls -->
                    <div class="control-section">
                        <h2><i class="fas fa-flower"></i> Bloom Detection</h2>
                        <div class="control-group">
                            <label for="bloomType">Bloom Type:</label>
                            <select id="bloomType" class="control-select">
                                <option value="all">All Flowering Events</option>
                                <option value="superbloom">Superbloom Detection</option>
                                <option value="wildflower">Wildflower Blooms</option>
                                <option value="agricultural">Agricultural Blooms</option>
                                <option value="urban">Urban Bloom Events</option>
                            </select>
                        </div>
                        
                        <div class="control-group">
                            <label for="bloomIntensity">Bloom Intensity:</label>
                            <select id="bloomIntensity" class="control-select">
                                <option value="low">Low (0-25%)</option>
                                <option value="moderate">Moderate (25-50%)</option>
                                <option value="high">High (50-75%)</option>
                                <option value="extreme">Extreme (75-100%)</option>
                            </select>
                        </div>
                    </div>

                    <!-- Time Controls -->
                    <div class="control-section">
                        <h2><i class="fas fa-clock"></i> Time Analysis</h2>
                        <div class="control-group">
                            <label for="timeRange">Time Range:</label>
                            <select id="timeRange" class="control-select">
                                <option value="recent">Recent (2024-2025)</option>
                                <option value="historical">Historical (2020-2024)</option>
                                <option value="seasonal">Seasonal Analysis</option>
                                <option value="monthly">Monthly Comparison</option>
                            </select>
                        </div>
                        
                        <div class="control-group">
                            <label for="timeSlider">Timeline:</label>
                            <input type="range" id="timeSlider" min="0" max="100" value="100" class="control-slider">
                            <div class="time-labels">
                                <span id="timeStart">Jan 2020</span>
                                <span id="timeEnd">Dec 2024</span>
                            </div>
                        </div>
                    </div>

                    <!-- Machine Learning Features -->
                    <div class="control-section">
                        <h2><i class="fas fa-brain"></i> AI Analysis</h2>
                        <div class="control-group">
                            <label for="mlModel">ML Model:</label>
                            <select id="mlModel" class="control-select">
                                <option value="none">No ML Analysis</option>
                                <option value="species">Species Classification</option>
                                <option value="bloom-prediction">Bloom Prediction</option>
                                <option value="density-estimation">Density Estimation</option>
                                <option value="hotspot-detection">Hotspot Detection</option>
                            </select>
                        </div>
                        
                        <div class="control-group">
                            <label for="confidence">Prediction Confidence:</label>
                            <input type="range" id="confidence" min="50" max="100" value="80" class="control-slider">
                            <span id="confidenceValue">80%</span>
                        </div>
                    </div>

                    <!-- Layer Controls -->
                    <div class="control-section">
                        <h2><i class="fas fa-layer-group"></i> Layer Controls</h2>
                        <div class="control-group">
                            <label for="opacity">Layer Opacity:</label>
                            <input type="range" id="opacity" min="0" max="100" value="80" class="control-slider">
                            <span id="opacityValue">80%</span>
                        </div>
                        
                        <div class="layer-toggles">
                            <label class="toggle-label">
                                <input type="checkbox" id="showCitizenData" checked>
                                <span class="toggle-text">GLOBE Observer Data</span>
                            </label>
                            <label class="toggle-label">
                                <input type="checkbox" id="showSatelliteData" checked>
                                <span class="toggle-text">Satellite Imagery</span>
                            </label>
                            <label class="toggle-label">
                                <input type="checkbox" id="showRadarData">
                                <span class="toggle-text">Radar Data</span>
                            </label>
                            <label class="toggle-label">
                                <input type="checkbox" id="showPredictions">
                                <span class="toggle-text">ML Predictions</span>
                            </label>
                        </div>
                    </div>

                    <!-- Enhanced Legend -->
                    <div class="legend">
                        <h3><i class="fas fa-palette"></i> Bloom Intensity Legend</h3>
                        <div class="legend-gradient" id="legendGradient"></div>
                        <div class="legend-labels">
                            <span>No Bloom</span>
                            <span>Superbloom</span>
                        </div>
                        <div class="legend-values">
                            <span id="minValue">0%</span>
                            <span id="maxValue">100%</span>
                        </div>
                    </div>

                    <!-- Enhanced Statistics -->
                    <div class="statistics">
                        <h3><i class="fas fa-chart-bar"></i> Bloom Statistics</h3>
                        <div class="stat-item">
                            <span class="stat-label">Active Blooms:</span>
                            <span class="stat-value" id="activeBlooms">1,247</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Superbloom Events:</span>
                            <span class="stat-value" id="superblooms">23</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Species Detected:</span>
                            <span class="stat-value" id="speciesCount">156</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Prediction Accuracy:</span>
                            <span class="stat-value" id="predictionAccuracy">87.3%</span>
                        </div>
                    </div>

                    <!-- Citizen Science Panel -->
                    <div class="citizen-science">
                        <h3><i class="fas fa-users"></i> Citizen Science</h3>
                        <div class="citizen-stats">
                            <div class="citizen-stat">
                                <span class="citizen-label">GLOBE Observations:</span>
                                <span class="citizen-value" id="globeObservations">8,432</span>
                            </div>
                            <div class="citizen-stat">
                                <span class="citizen-label">Validated Blooms:</span>
                                <span class="citizen-value" id="validatedBlooms">2,156</span>
                            </div>
                        </div>
                        <button class="contribute-btn" id="contributeBtn">
                            <i class="fas fa-plus"></i> Contribute Observation
                        </button>
                    </div>

                    <!-- Info Panel -->
                    <div class="info-panel">
                        <h3><i class="fas fa-info-circle"></i> About BloomWatch</h3>
                        <p>BloomWatch leverages NASA's Earth observation data to track global flowering phenology. It combines satellite imagery, citizen science data, and machine learning to provide comprehensive bloom monitoring.</p>
                        <div class="data-sources-info">
                            <h4>Data Sources:</h4>
                            <ul>
                                <li><strong>NASA:</strong> MODIS, Landsat 8/9, Airborne Hyperspectral</li>
                                <li><strong>ESA:</strong> Sentinel-2 Multispectral</li>
                                <li><strong>CSA:</strong> RADARSAT Constellation</li>
                                <li><strong>GLOBE:</strong> Citizen Science Observations</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Enhanced Map Container -->
            <div class="map-container">
                <div id="map"></div>
                <div class="map-overlay">
                    <div class="loading-spinner" id="loadingSpinner">
                        <i class="fas fa-spinner fa-spin"></i>
                        <span>Loading bloom data...</span>
                    </div>
                    <div class="coordinates-display" id="coordinatesDisplay">
                        <span id="coordinates">Lat: 0°, Lng: 0°</span>
                    </div>
                    <div class="bloom-info-panel" id="bloomInfoPanel">
                        <div class="bloom-header">
                            <h3 id="bloomTitle">Bloom Information</h3>
                            <button class="close-btn" id="closeBloomInfo">×</button>
                        </div>
                        <div class="bloom-content" id="bloomContent">
                            <p>Click on a bloom area to see detailed information.</p>
                        </div>
                    </div>
                </div>
                
                <!-- Time Dimension Control -->
                <div class="time-controls" id="timeControls">
                    <div class="time-control-header">
                        <h4><i class="fas fa-play"></i> Time Animation</h4>
                    </div>
                    <div class="time-control-buttons">
                        <button id="playPauseBtn" class="time-btn">
                            <i class="fas fa-play"></i>
                        </button>
                        <button id="resetTimeBtn" class="time-btn">
                            <i class="fas fa-undo"></i>
                        </button>
                        <button id="speedBtn" class="time-btn">
                            <i class="fas fa-tachometer-alt"></i> 1x
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Enhanced Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-left">
                    <p>&copy; 2025 BloomWatch - NASA Space Apps Challenge. Powered by NASA Earth Science Division.</p>
                    <div class="partners">
                        <span>Partners:</span>
                        <a href="https://boozallen.com" target="_blank">Booz Allen Hamilton</a>
                        <a href="https://mindgrub.com" target="_blank">Mindgrub</a>
                        <a href="https://secondmuse.com" target="_blank">SecondMuse</a>
                    </div>
                </div>
                <div class="footer-right">
                    <div class="footer-links">
                        <a href="https://earthdata.nasa.gov" target="_blank" class="footer-link">
                            <i class="fas fa-globe"></i> NASA Earthdata
                        </a>
                        <a href="https://observer.globe.gov" target="_blank" class="footer-link">
                            <i class="fas fa-mobile-alt"></i> GLOBE Observer
                        </a>
                        <a href="https://spaceappschallenge.org" target="_blank" class="footer-link">
                            <i class="fas fa-rocket"></i> Space Apps
                        </a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Enhanced Scripts -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.heat@0.2.0/dist/leaflet-heat.js"></script>
    <script src="script.js"></script>
</body>
</html>
